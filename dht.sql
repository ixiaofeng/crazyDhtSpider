-- phpMyAdmin SQL Dump
-- version 5.1.1
-- https://www.phpmyadmin.net/
--
-- 主机： localhost
-- 生成日期： 2022-01-30 21:46:34
-- 服务器版本： 5.6.50-log
-- PHP 版本： 8.0.14

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- 数据库： `dht`
--

-- --------------------------------------------------------

--
-- 表的结构 `bt`
--

CREATE TABLE `bt` (
  `name` varchar(500) NOT NULL COMMENT '名称',
  `keywords` varchar(250) NOT NULL COMMENT '关键词',
  `length` bigint(20) NOT NULL DEFAULT '0' COMMENT '文件大小',
  `piece_length` int(11) NOT NULL DEFAULT '0' COMMENT '种子大小',
  `infohash` char(40) NOT NULL COMMENT '种子哈希值',
  `files` text NOT NULL COMMENT '文件列表',
  `hits` int(11) NOT NULL DEFAULT '0' COMMENT '点击量',
  `hot` int(11) NOT NULL DEFAULT '1' COMMENT '热度',
  `time` datetime NOT NULL COMMENT '收录时间',
  `lasttime` datetime NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '最后下载时间'
) ENGINE=MyISAM DEFAULT CHARSET=utf8
PARTITION BY KEY (infohash)
(
PARTITION p0 ENGINE=MyISAM,
PARTITION p1 ENGINE=MyISAM,
PARTITION p2 ENGINE=MyISAM,
PARTITION p3 ENGINE=MyISAM,
PARTITION p4 ENGINE=MyISAM,
PARTITION p5 ENGINE=MyISAM,
PARTITION p6 ENGINE=MyISAM,
PARTITION p7 ENGINE=MyISAM,
PARTITION p8 ENGINE=MyISAM,
PARTITION p9 ENGINE=MyISAM,
PARTITION p10 ENGINE=MyISAM,
PARTITION p11 ENGINE=MyISAM,
PARTITION p12 ENGINE=MyISAM,
PARTITION p13 ENGINE=MyISAM,
PARTITION p14 ENGINE=MyISAM,
PARTITION p15 ENGINE=MyISAM,
PARTITION p16 ENGINE=MyISAM,
PARTITION p17 ENGINE=MyISAM,
PARTITION p18 ENGINE=MyISAM,
PARTITION p19 ENGINE=MyISAM,
PARTITION p20 ENGINE=MyISAM,
PARTITION p21 ENGINE=MyISAM,
PARTITION p22 ENGINE=MyISAM,
PARTITION p23 ENGINE=MyISAM,
PARTITION p24 ENGINE=MyISAM,
PARTITION p25 ENGINE=MyISAM,
PARTITION p26 ENGINE=MyISAM,
PARTITION p27 ENGINE=MyISAM,
PARTITION p28 ENGINE=MyISAM,
PARTITION p29 ENGINE=MyISAM,
PARTITION p30 ENGINE=MyISAM
);

-- --------------------------------------------------------

--
-- 表的结构 `history`
--

CREATE TABLE `history` (
  `infohash` char(40) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

--
-- 转储表的索引
--

--
-- 表的索引 `bt`
--
ALTER TABLE `bt`
  ADD UNIQUE KEY `infohash` (`infohash`) USING BTREE,
  ADD KEY `hot` (`hot`);

--
-- 表的索引 `history`
--
ALTER TABLE `history`
  ADD PRIMARY KEY (`infohash`),
  ADD UNIQUE KEY `infohash` (`infohash`) USING BTREE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
